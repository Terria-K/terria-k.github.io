---
import ArtLayout from "../ArtLayout.astro";

export async function getStaticPaths() {
  const pictures: Record<string, any>[] = await Astro.glob("/src/assets/arts/**/*.png").then(x => x.map(x => x.default));

  const years = ["2024", "2023", "2022", "2021", "2020", "2019"];

  return years.map((year) => {
    const filteredPictures = pictures.filter((picture) => { 
      return picture.src.includes(year);
    });
    return {
      params: { year },
      props: { pictures: filteredPictures }
    }
  });
}

const { year } = Astro.params;
const { pictures } = Astro.props;
---

<ArtLayout {pictures}/>